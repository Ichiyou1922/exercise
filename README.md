# exercise

## 目的
- 様々な分野の理解を深めるためのプログラミング練習

## カルマンフィルタ
- 目的
  - 更新後の分散 ${\sigma_{new}}^2$ を最小にしたい．
- 方法
  - 最小二乗法
  1. 誤差の伝播法則を考慮した新しい分散の式は次:  $f(K)=(1-K)^2 {\sigma_{p}}^2+K^2{\sigma_{m}}^2$ 
  2. $f(K)$ を最小にするためには微分して0になる点を見つければよい． $\frac{df(K)}{dK}=-2(1-K){\sigma_{p}}^2+2K{\sigma_{m}}^2=0$
  3. Kについて解けば $K=\frac{{\sigma_{p}}^2}{{\sigma_{p}}^2+{\sigma_{m}}^2}$
## エントロピー
- N個の粒子が，左右の部屋にどう分布するのか確かめるプログラム．
  - Nの値が増えるほど，等分されることに注目
- $S=K_{B}logW$ S: エントロピー，W: 状態数
  - 粒子が増えるほど，状態数Wは増える．
  - 水に絵の具をたらすと勝手に混ざる理由.
- 状態数Wが増加すると分散が小さくなる？
  - 左右の部屋への粒子の分配は二項分布に従う．
  - 粒子数をNとすれば $\mu = \frac{N}{2}$ 標準偏差は $\sigma = \frac{\sqrt{N}}{2}}
  - $相対誤差=\frac{標準偏差}{平均}=\frac{1}{\sqrt{N}}$
  - Nが増えていけば相対誤差は減り，平均値からのずれは小さくなる．大数の法則．
- マクスウェルの悪魔
  - 左右に小さい穴で繋がっている部屋があります．穴には悪魔が住んでおり，左から来た速度の遅い粒子を右の部屋に，右から来た速度の速い粒子を左の部屋に分けます．左右の部屋のエネルギー状態はこれでもバランスが取れているのでしょうか？
  - ランダウア―の原理によれば情報の書き込みにはエネルギーを使いませんが，情報の消去や上書きにおいては熱が発生します．悪魔をメモリだとすれば，前に来た粒子の情報をもとに次の粒子を観察し，振り分け，次の粒子を観察するころにはひとつ前の粒子の情報を捨てています．この時熱が発生し，エネルギーの低い部屋へ流れ出ていきますから，最終的に左右の部屋のエネルギー状態は等しくなります．
## Brain_Parliament_Sim
- ストレスレベルと環境の質によって，理性と本能のパワーバランスが変わる．
  - 環境......整えていこう

## HyperbolicDiscounting
- 双曲割引のグラフを表示する．
  - 遠く離れた時間のことは冷静に見られるのに......
  - 明日やる...明日やる...

## IsingModel
- 磁石の性質が温度によってどう失われるのかのシミュレーション
1. 世界は $N\cross N$ の格子点
2. 各格子点にはスピンがいて，+1か-1のどちらかをとる．
3. 隣のスピンと同じ値を取りたい．
4. 温度Tが高いとランダムに裏返る．
- メトロポリス法
1. $\delta E < 0$ なら必ず裏返す．
2. $\delta E \geq 0$ なら確率 $P = \exp{-\frac{\delta E}{T}}$ で裏返す．
- 周期的境界条件
  - グリッドの端に対称のスピンがいる場合，その上下左右いずれかのスピンははみ出してしまう．だから例えば右端にはみ出したなら，左端のスピンを採用，などする．プログラム上では単純に条件分岐で良い．
- エネルギー変化 $\delta E$
1. $H = -J\sum s_{i}s_{j}$
2. $\delta E = 2s\cross (上下左右のスピンの和)$

## Payoff_matrix
- いわゆる囚人のジレンマ
  - 常に相手に信頼を置く優しさは搾取される．

## TitforTat
- 囚人のジレンマの一つの解法
  - 相手の選択を真似する．これだけで，Payoff_matrixの悲劇からは逃れられる．
  - 互いに信頼しあえれば，それが最も良い．

## sim_of_IdealGas
- 単原子分子の運動シミュレーション
  - 等分配則 $<K>=\frac{3}{2}k_{B}T$ に従う．変形すると $T=\frac{2}{3k_{B}}<\frac{1}{2}mv^2>$
  - 温度とは，粒子の速さの分散を，人間の都合で定数倍しただけのパラメータに過ぎない．
  - 速度というベクトルが(しかも大量の)一つのスカラー(温度T)にまとまるとは．

